(()=>{class i{constructor(e){this.element=e,this.buttons=new Map([...e.querySelectorAll('[role="tab"]')].map(s=>[s.getAttribute("aria-controls"),s])),this.containers=new Map([...document.querySelectorAll('[role="tabpanel"]')].filter(s=>this.buttons.has(s.id)).map(s=>[s.id,s])),this.current=null,this.init()}select(e){for(const[s,t]of this.buttons.entries())s===e?t.setAttribute("tabindex","0"):t.setAttribute("tabindex","-1"),t.setAttribute("aria-selected",s===e);for(const[s,t]of this.containers.entries())s===e?t.removeAttribute("hidden"):t.setAttribute("hidden",!0)}init(){const e=[...this.buttons.keys()],s=[...this.buttons.values()].find(t=>t.getAttribute("aria-selected")==="true");this.element.addEventListener("keydown",t=>{t.code==="Home"&&(t.preventDefault(),this.buttons.get(e[0]).focus()),t.code==="End"&&(t.preventDefault(),this.buttons.get(e[e.length-1]).focus()),(t.code==="ArrowLeft"||t.code==="ArrowUp")&&(t.preventDefault(),this.buttons.get(e[Math.max(0,this.current-1)]).focus()),(t.code==="ArrowRight"||t.code==="ArrowDown")&&(t.preventDefault(),this.buttons.get(e[Math.min(e.length-1,this.current+1)]).focus())});for(const[t,o]of this.buttons.entries())o.addEventListener("click",r=>{r.preventDefault(),this.select(t)}),o.addEventListener("focus",()=>{this.current=e.indexOf(t)}),o.addEventListener("keypress",r=>{(r.code==="Enter"||r.code==="Space")&&(r.preventDefault(),this.select(t))});this.select(s!==null?s.getAttribute("aria-controls"):e[0])}static create(e){return new i(e)}}const n=document.querySelectorAll('[role="tablist"]');for(const c of n)i.create(c)})();
